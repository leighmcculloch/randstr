package randstr

import "testing"

func TestBytesToInt(t *testing.T) {
	tests := []struct {
		input  []byte
		output int
	}{
		{[]byte{0x00}, 0x00},
		{[]byte{0x01}, 0x01},
		{[]byte{0x02}, 0x02},
		{[]byte{0xFF}, 0xFF},
		{[]byte{0x01, 0x00}, 0x100},
		{[]byte{0xFF, 0xFF}, 0xFFFF},
		{[]byte{0x01, 0x00, 0x00}, 0x10000},
		{[]byte{0xFF, 0xFF, 0xFF}, 0xFFFFFF},
		{[]byte{0x01, 0x00, 0x00, 0x00}, 0x1000000},
		{[]byte{0xFF, 0xFF, 0xFF, 0xFF}, 0xFFFFFFFF},
		{[]byte{0x01, 0x00, 0x00, 0x00, 0x00}, 0x100000000},
		{[]byte{0xFF, 0xFF, 0xFF, 0xFF, 0xFF}, 0xFFFFFFFFFF},
		{[]byte{0x01, 0x00, 0x00, 0x00, 0x00, 0x00}, 0x10000000000},
		{[]byte{0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}, 0xFFFFFFFFFFFF},
		{[]byte{0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}, 0x1000000000000},
		{[]byte{0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}, 0xFFFFFFFFFFFFFF},
		{[]byte{0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}, 0x100000000000000},
		{[]byte{0x7F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}, 0x7FFFFFFFFFFFFFFF},
	}

	for _, test := range tests {
		i := bytesToInt(test.input)
		if i == test.output {
			t.Logf("ByteLen(0x%016X) is %016X", test.input, i)
		} else {
			t.Errorf("ByteLen(0x%016X) is %016X, expected %016X", test.input, i, test.output)
		}
	}
}
